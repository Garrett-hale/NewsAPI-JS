<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="dist/styles.css">
    <title>News API</title>
</head>
<body>
    <h1>News Article Search</h1>

    <form action="">
        <input type="text" value="film" id="input-text"></input>
        <button type="button" onclick="searchClick()">Search</button>
    </form>

    <br>
    <br>
    <br>
    <p class="article-1">Article 1</p>
    <a href="" class="article-link-1">Article Link 1</a>
    <br>
    <br>
    <br>
    <p class="article-2">Article 2</p>
    <a href="" class="article-link-2">Article Link 2</a>
    <br>
    <br>
    <br>
    <p class="article-3">Article 3</p>
    <a href="" class="article-link-3">Article Link 3</a>
    <br>
    <br>
    <br>
    <p class="article-4">Article 4</p>
    <a href="" class="article-link-4">Article Link 4</a>
    <br>
    <br>
    <br>
    <p class="article-5">Article 5</p>
    <a href="" class="article-link-5">Article Link 5</a>
    <!--Articles End-->

    <!--Script-->
    <script>
        console.log("LOAD PAGE");
        const apiKey = "pub_328467068e734bd15546e3ce8b98e0aca3054";
        var searchQuery = "film"
        var searchSize = 5;
        const apiUrl = "https://newsdata.io/api/1/news?";

        async function checkNews(searchQuery) {
            const response = await fetch(apiUrl + "apikey=" + apiKey + "&q=" + searchQuery + "&size=" + searchSize);
            var data = await response.json();

            console.log(data.results);

            document.querySelector(".article-1").innerHTML = data.results[0].title;
            document.querySelector(".article-2").innerHTML = data.results[1].title;
            document.querySelector(".article-3").innerHTML = data.results[2].title;
            document.querySelector(".article-4").innerHTML = data.results[3].title;
            document.querySelector(".article-5").innerHTML = data.results[4].title;


            document.querySelector(".article-link-1").innerHTML = data.results[0].link;
            document.querySelector(".article-link-2").innerHTML = data.results[1].link;
            document.querySelector(".article-link-3").innerHTML = data.results[2].link;
            document.querySelector(".article-link-4").innerHTML = data.results[3].link;
            document.querySelector(".article-link-5").innerHTML = data.results[4].link;

            document.querySelector(".article-link-1").href = data.results[0].link;
            document.querySelector(".article-link-2").href = data.results[1].link;
            document.querySelector(".article-link-3").href = data.results[2].link;
            document.querySelector(".article-link-4").href = data.results[3].link;
            document.querySelector(".article-link-5").href = data.results[4].link;
        }


        checkNews(searchQuery);

        function searchClick() {
            searchQuery = document.querySelector("#input-text").value;
            //console.log(searchQuery);
            checkNews(searchQuery);
        }
    </script>

</body>
</html>